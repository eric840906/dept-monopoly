
> dept-monopoly@1.0.0 dev
> cross-env NODE_ENV=development nodemon server/index.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server/index.js`[39m
[dotenv@17.2.1] injecting env (11) from .env -- tip: 📡 version env with Radar: https://dotenvx.com/radar
🌐 Allowed CORS origins: [
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://172.22.78.176:3000'
]
🔒 CSP Network sources: [ 'http://172.22.78.176:3000', 'ws://172.22.78.176:3000' ]
Generated board with event distribution: {
  format_matching: 6,
  multiple_choice_quiz: 4,
  true_or_false: 5,
  drag_drop_workflow: 2
}
Initializing predefined teams...
Created team: A隊 (team_A) - URL: http://localhost:3000/mobile?team=team_A
Created team: B隊 (team_B) - URL: http://localhost:3000/mobile?team=team_B
Created team: C隊 (team_C) - URL: http://localhost:3000/mobile?team=team_C
Created team: D隊 (team_D) - URL: http://localhost:3000/mobile?team=team_D
Created team: E隊 (team_E) - URL: http://localhost:3000/mobile?team=team_E
Created team: F隊 (team_F) - URL: http://localhost:3000/mobile?team=team_F
Initialized 6 predefined teams
node:events:485
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:3000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at node:net:2206:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server iConnection allowed for IP 127.0.0.1: 1/200
🔗 Player connected: LDX3Fv_68kmAxYV9AAAB
📊 Connection stats - Active: 1, Total: 1, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - ...
Connection allowed for IP 127.0.0.1: 2/200
🔗 Player connected: s2qdXmZIASYwxDCSAAA[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server/index.js`[39m
[dotenv@17.2.1] injecting env (11) from .env -- tip: ⚙️  override existing env vars with { override: true }
🌐 Allowed CORS origins: [
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://172.22.78.176:3000'
]
🔒 CSP Network sources: [ 'http://172.22.78.176:3000', 'ws://172.22.78.176:3000' ]
Generated board with event distribution: {
  true_or_false: 6,
  multiple_choice_quiz: 7,
  drag_drop_workflow: 3,
  format_matching: 1
}
Initializing predefined teams...
Created team: A隊 (team_A) - URL: http://localhost:3000/mobile?team=team_A
Created team: B隊 (team_B) - URL: http://localhost:3000/mobile?team=team_B
Created team: C隊 (team_C) - URL: http://localhost:3000/mobile?team=team_C
Created team: D隊 (team_D) - URL: http://localhost:3000/mobile?team=team_D
Created team: E隊 (team_E) - URL: http://localhost:3000/mobile?team=team_E
Created team: F隊 (team_F) - URL: http://localhost:3000/mobile?team=team_F
Initialized 6 predefined teams
🎮 Game server running on port 3000
🖥️  Main screen: http://localhost:3000
📱 Mobile interface: http://localhost:3000/mobile

🌐 Network Access URLs:
   📱 Mobile: http://172.22.78.176:3000/mobile
   🖥️  Main: http://172.22.78.176:3000

⚠️  IMPORTANT: Use HTTP (not HTTPS) URLs on mobile devices
⚠️  Running in development mode with relaxed security
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server/index.js`[39m
[dotenv@17.2.1] injecting env (11) from .env -- tip: ⚙️  suppress all logs with { quiet: true }
🌐 Allowed CORS origins: [
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://172.22.78.176:3000'
]
🔒 CSP Network sources: [ 'http://172.22.78.176:3000', 'ws://172.22.78.176:3000' ]
Generated board with event distribution: {
  multiple_choice_quiz: 6,
  format_matching: 3,
  true_or_false: 4,
  drag_drop_workflow: 4
}
Initializing predefined teams...
Created team: A隊 (team_A) - URL: http://localhost:3000/mobile?team=team_A
Created team: B隊 (team_B) - URL: http://localhost:3000/mobile?team=team_B
Created team: C隊 (team_C) - URL: http://localhost:3000/mobile?team=team_C
Created team: D隊 (team_D) - URL: http://localhost:3000/mobile?team=team_D
Created team: E隊 (team_E) - URL: http://localhost:3000/mobile?team=team_E
Created team: F隊 (team_F) - URL: http://localhost:3000/mobile?team=team_F
Initialized 6 predefined teams
node:events:485
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:3000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at node:net:2206:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1976:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 3000
}

Node.js v24.4.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server/index.js`[39m
[dotenv@17.2.1] injecting env (11) from .env -- tip: ⚙️  write to custom object with { processEnv: myObject }
🌐 Allowed CORS origins: [
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://172.22.78.176:3000'
]
🔒 CSP Network sources: [ 'http://172.22.78.176:3000', 'ws://172.22.78.176:3000' ]
Generated board with event distribution: {
  format_matching: 3,
  true_or_false: 10,
  drag_drop_workflow: 3,
  multiple_choice_quiz: 1
}
Initializing predefined teams...
Created team: A隊 (team_A) - URL: http://localhost:3000/mobile?team=team_A
Created team: B隊 (team_B) - URL: http://localhost:3000/mobile?team=team_B
Created team: C隊 (team_C) - URL: http://localhost:3000/mobile?team=team_C
Created team: D隊 (team_D) - URL: http://localhost:3000/mobile?team=team_D
Created team: E隊 (team_E) - URL: http://localhost:3000/mobile?team=team_E
Created team: F隊 (team_F) - URL: http://localhost:3000/mobile?team=team_F
Initialized 6 predefined teams
🎮 Game server running on port 3000
🖥️  Main screen: http://localhost:3000
📱 Mobile interface: http://localhost:3000/mobile

🌐 Network Access URLs:
   📱 Mobile: http://172.22.78.176:3000/mobile
   🖥️  Main: http://172.22.78.176:3000

⚠️  IMPORTANT: Use HTTP (not HTTPS) URLs on mobile devices
⚠️  Running in development mode with relaxed security
Connection allowed for IP 127.0.0.1: 1/200
Connection allowed for IP 127.0.0.1: 2/200
🔗 Player connected: fJ5f8rCBVwOBJCp1AAAC
📊 Connection stats - Active: 1, Total: 1, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb...
Player joined: 1 (MPB)
🔗 Player connected: 3EItcs2JqS892UNyAAAE
📊 Connection stats - Active: 2, Total: 2, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb...
Connection allowed for IP 127.0.0.1: 3/200
🔗 Player connected: Jnsxvn-08rxfeyCPAAAH
📊 Connection stats - Active: 3, Total: 3, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb...
Player joined: 5 (MPB)
Connection allowed for IP 127.0.0.1: 4/200
🔗 Player connected: 9OoBV9GvmeXPSODPAAAK
📊 Connection stats - Active: 4, Total: 4, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb...
Player joined: 2 (MPB)
Connection allowed for IP 127.0.0.1: 5/200
🔗 Player connected: Q0oNQBSenzq7D2cRAAAN
📊 Connection stats - Active: 5, Total: 5, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb...
Player joined: 4 (MPB)
Connection allowed for IP 127.0.0.1: 6/200
🔗 Player connected: PyM1yGTIx753qlOVAAAQ
📊 Connection stats - Active: 6, Total: 6, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb...
Player joined: 12 (DTO)
Connection allowed for IP 127.0.0.1: 7/200
🔗 Player connected: 7HFhnSmFWSG-pORlAAAT
📊 Connection stats - Active: 7, Total: 7, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb...
Player joined: 6 (AOE)
Connection allowed for IP 127.0.0.1: 8/200
🔗 Player connected: h36Pl0lD5NKt0PckAAAW
📊 Connection stats - Active: 8, Total: 8, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb...
Player joined: 8 (AOE)
Connection allowed for IP 127.0.0.1: 9/200
🔗 Player connected: Ud9MF4rkUHbRaGAsAAAZ
📊 Connection stats - Active: 9, Total: 9, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb...
Player joined: 10 (PAD)
Player h36Pl0lD5NKt0PckAAAW attempting to join team: team_C
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=h36Pl0lD5NKt0PckAAAW, teamId=team_C
Player exists: true, Team exists: true
Player 8 joined team C隊
Player h36Pl0lD5NKt0PckAAAW successfully joined team C隊 (team_C)
Player 7HFhnSmFWSG-pORlAAAT attempting to join team: team_B
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=7HFhnSmFWSG-pORlAAAT, teamId=team_B
Player exists: true, Team exists: true
Player 6 joined team B隊
Player 7HFhnSmFWSG-pORlAAAT successfully joined team B隊 (team_B)
Player Ud9MF4rkUHbRaGAsAAAZ attempting to join team: team_D
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=Ud9MF4rkUHbRaGAsAAAZ, teamId=team_D
Player exists: true, Team exists: true
Player 10 joined team D隊
Player Ud9MF4rkUHbRaGAsAAAZ successfully joined team D隊 (team_D)
Player PyM1yGTIx753qlOVAAAQ attempting to join team: team_D
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=PyM1yGTIx753qlOVAAAQ, teamId=team_D
Player exists: true, Team exists: true
Player 12 joined team D隊
Player PyM1yGTIx753qlOVAAAQ successfully joined team D隊 (team_D)
Player Q0oNQBSenzq7D2cRAAAN attempting to join team: team_B
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=Q0oNQBSenzq7D2cRAAAN, teamId=team_B
Player exists: true, Team exists: true
Player 4 joined team B隊
Player Q0oNQBSenzq7D2cRAAAN successfully joined team B隊 (team_B)
Player 9OoBV9GvmeXPSODPAAAK attempting to join team: team_A
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=9OoBV9GvmeXPSODPAAAK, teamId=team_A
Player exists: true, Team exists: true
Player 2 joined team A隊
Player 9OoBV9GvmeXPSODPAAAK successfully joined team A隊 (team_A)
Player Jnsxvn-08rxfeyCPAAAH attempting to join team: team_B
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=Jnsxvn-08rxfeyCPAAAH, teamId=team_B
Player exists: true, Team exists: true
Player 5 joined team B隊
Player Jnsxvn-08rxfeyCPAAAH successfully joined team B隊 (team_B)
Player fJ5f8rCBVwOBJCp1AAAC attempting to join team: team_A
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=fJ5f8rCBVwOBJCp1AAAC, teamId=team_A
Player exists: true, Team exists: true
Player 1 joined team A隊
Player fJ5f8rCBVwOBJCp1AAAC successfully joined team A隊 (team_A)
Connection allowed for IP 127.0.0.1: 10/200
🔗 Player connected: fttsnpDXWsfmoHqdAAAc
📊 Connection stats - Active: 10, Total: 10, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb...
Connection allowed for IP 127.0.0.1: 11/200
🔗 Player connected: 5UWdPDDY3xCJZMlHAAAf
📊 Connection stats - Active: 11, Total: 11, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb...
Connection allowed for IP 127.0.0.1: 12/200
🔗 Player connected: MQ122G3PN_9vW8lsAAAi
📊 Connection stats - Active: 12, Total: 12, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb...
Connection allowed for IP 127.0.0.1: 13/200
🔗 Player connected: aDIstZwWYYxgiQdOAAAl
📊 Connection stats - Active: 13, Total: 13, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb...
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 1ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 2ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 3ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 3ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 4ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 6ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 1ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 2ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 1ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 2ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 3ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 4ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 2ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 3ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 3ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 4ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 4ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 4ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 5ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 6ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 1ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 1ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 3ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 2ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 1ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 3ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 3ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 3ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 3ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 4ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 5ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 5ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 2ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 2ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 3ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 3ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 1ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 3ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 3ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 3ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 4ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 5ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 5ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 5ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 3ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 3ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 4ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 5ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 2ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 3ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 4ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 4ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 5ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 5ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 6ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 6ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 2ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 3ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 4ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 3ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 1ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 2ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 3ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 3ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 4ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 4ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 5ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 6ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 2ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 2ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 3ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 2ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 1ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 2ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 3ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 4ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 4ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 17ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 17ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 17ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 17ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 18ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 16ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 20ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 1ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 2ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 3ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 3ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 4ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 5ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 7ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 8ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 8ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 8ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 11ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 8ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 1ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 3ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 5ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 4ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 7ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 7ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 5ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 5ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 4ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 1ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 2ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 2ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 2ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 2ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 4ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 4ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 5ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 5ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 5ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 7ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 8ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 8ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 8ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 10ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 3ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 4ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 4ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 5ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 5ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 7ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 8ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 9ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 8ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 9ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 8ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 10ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 2ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 4ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 4ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 6ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 5ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 7ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 8ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 8ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 8ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 9ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 8ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 11ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 2ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 4ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 5ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 5ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 6ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 6ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 7ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 7ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 8ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 6ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 2ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 3ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 1ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 2ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 3ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 3ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 3ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 4ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 4ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 4ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 5ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 5ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 6ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 6ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 2ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 3ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 4ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 5ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 4ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 4ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 5ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 6ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 8ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 4ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 6ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 5ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 2ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 3ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 2ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 3ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 4ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 4ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 3ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 4ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 4ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 2ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 2ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 3ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 2ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 3ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 3ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 4ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 5ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 6ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 6ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 6ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 5ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 6ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 8ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 9ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 3ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 3ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 4ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 4ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 4ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 5ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 6ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 6ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 8ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 8ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 9ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 9ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 2ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 3ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 3ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 5ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 5ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 5ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 6ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 7ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 7ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 8ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 8ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 9ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 3ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 3ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 3ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 4ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 4ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 5ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 7ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 7ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 8ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 8ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 8ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 6ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 1ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 3ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 3ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 3ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 4ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 4ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 5ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 5ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 7ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 7ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 7ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 8ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 1ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 2ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 4ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 3ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 4ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 4ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 5ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 6ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 7ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 7ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 7ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 7ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 1ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 2ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 4ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 4ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 4ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 6ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 6ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 7ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 9ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 1ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 2ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 2ms
💓 Heartbeat from Q0oNQBSenzq7D2cRAAAN - Latency: 2ms
💓 Heartbeat from 5UWdPDDY3xCJZMlHAAAf - Latency: 2ms
💓 Heartbeat from Ud9MF4rkUHbRaGAsAAAZ - Latency: 3ms
💓 Heartbeat from h36Pl0lD5NKt0PckAAAW - Latency: 3ms
💓 Heartbeat from MQ122G3PN_9vW8lsAAAi - Latency: 4ms
💓 Heartbeat from fttsnpDXWsfmoHqdAAAc - Latency: 3ms
💓 Heartbeat from fJ5f8rCBVwOBJCp1AAAC - Latency: 6ms
💓 Heartbeat from PyM1yGTIx753qlOVAAAQ - Latency: 5ms
💓 Heartbeat from 9OoBV9GvmeXPSODPAAAK - Latency: 8ms
💓 Heartbeat from Jnsxvn-08rxfeyCPAAAH - Latency: 8ms
💓 Heartbeat from aDIstZwWYYxgiQdOAAAl - Latency: 7ms
💓 Heartbeat from 7HFhnSmFWSG-pORlAAAT - Latency: 8ms
💔 Player disconnected: fJ5f8rCBVwOBJCp1AAAC
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 12, Disconnections: 1
🌐 Transport at disconnect: websocket
💔 Player disconnected: 9OoBV9GvmeXPSODPAAAK
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 11, Disconnections: 2
🌐 Transport at disconnect: websocket
Team team_A is now empty but is predefined, keeping it for future games
💔 Player disconnected: fttsnpDXWsfmoHqdAAAc
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 10, Disconnections: 3
🌐 Transport at disconnect: websocket
🔌 Transport closed for fttsnpDXWsfmoHqdAAAc: transport close
🔌 Transport closed for 9OoBV9GvmeXPSODPAAAK: transport close
🔌 Transport closed for fJ5f8rCBVwOBJCp1AAAC: transport close
💔 Player disconnected: 7HFhnSmFWSG-pORlAAAT
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 9, Disconnections: 4
🌐 Transport at disconnect: websocket
💔 Player disconnected: Q0oNQBSenzq7D2cRAAAN
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 8, Disconnections: 5
🌐 Transport at disconnect: websocket
💔 Player disconnected: Jnsxvn-08rxfeyCPAAAH
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 7, Disconnections: 6
🌐 Transport at disconnect: websocket
Team team_B is now empty but is predefined, keeping it for future games
🔌 Transport closed for Q0oNQBSenzq7D2cRAAAN: transport close
🔌 Transport closed for 7HFhnSmFWSG-pORlAAAT: transport close
🔌 Transport closed for Jnsxvn-08rxfeyCPAAAH: transport close
💔 Player disconnected: 5UWdPDDY3xCJZMlHAAAf
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 6, Disconnections: 7
🌐 Transport at disconnect: websocket
💔 Player disconnected: h36Pl0lD5NKt0PckAAAW
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 5, Disconnections: 8
🌐 Transport at disconnect: websocket
Team team_C is now empty but is predefined, keeping it for future games
💔 Player disconnected: aDIstZwWYYxgiQdOAAAl
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 4, Disconnections: 9
🌐 Transport at disconnect: websocket
🔌 Transport closed for 5UWdPDDY3xCJZMlHAAAf: transport close
🔌 Transport closed for aDIstZwWYYxgiQdOAAAl: transport close
🔌 Transport closed for h36Pl0lD5NKt0PckAAAW: transport close
💔 Player disconnected: MQ122G3PN_9vW8lsAAAi
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 3, Disconnections: 10
🌐 Transport at disconnect: websocket
💔 Player disconnected: PyM1yGTIx753qlOVAAAQ
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 2, Disconnections: 11
🌐 Transport at disconnect: websocket
💔 Player disconnected: Ud9MF4rkUHbRaGAsAAAZ
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 1, Disconnections: 12
🌐 Transport at disconnect: websocket
Team team_D is now empty but is predefined, keeping it for future games
🔌 Transport closed for MQ122G3PN_9vW8lsAAAi: transport close
🔌 Transport closed for PyM1yGTIx753qlOVAAAQ: transport close
🔌 Transport closed for Ud9MF4rkUHbRaGAsAAAZ: transport close
💔 Player disconnected: 3EItcs2JqS892UNyAAAE
📊 Disconnect reason: transport close
📊 Connection stats - Active: 0, Disconnections: 13
🌐 Transport at disconnect: websocket
🔌 Transport closed for 3EItcs2JqS892UNyAAAE: transport close
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server/index.js`[39m
[dotenv@17.2.1] injecting env (11) from .env -- tip: ⚙️  enable debug logging with { debug: true }
🌐 Allowed CORS origins: [
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://172.22.78.176:3000'
]
🔒 CSP Network sources: [ 'http://172.22.78.176:3000', 'ws://172.22.78.176:3000' ]
Generated board with event distribution: {
  format_matching: 4,
  multiple_choice_quiz: 4,
  drag_drop_workflow: 4,
  true_or_false: 5
}
Initializing predefined teams...
Created team: A隊 (team_A) - URL: http://localhost:3000/mobile?team=team_A
Created team: B隊 (team_B) - URL: http://localhost:3000/mobile?team=team_B
Created team: C隊 (team_C) - URL: http://localhost:3000/mobile?team=team_C
Created team: D隊 (team_D) - URL: http://localhost:3000/mobile?team=team_D
Created team: E隊 (team_E) - URL: http://localhost:3000/mobile?team=team_E
Created team: F隊 (team_F) - URL: http://localhost:3000/mobile?team=team_F
Initialized 6 predefined teams
🎮 Game server running on port 3000
🖥️  Main screen: http://localhost:3000
📱 Mobile interface: http://localhost:3000/mobile

🌐 Network Access URLs:
   📱 Mobile: http://172.22.78.176:3000/mobile
   🖥️  Main: http://172.22.78.176:3000

⚠️  IMPORTANT: Use HTTP (not HTTPS) URLs on mobile devices
⚠️  Running in development mode with relaxed security
Connection allowed for IP 127.0.0.1: 1/200
🔗 Player connected: kutXETZkhEyRgd_fAAAB
📊 Connection stats - Active: 1, Total: 1, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - ...
Connection allowed for IP 127.0.0.1: 2/200
🔗 Player connected: ncb-9BZqzO_rSeDhAAAE
📊 Connection stats - Active: 2, Total: 2, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Mobile - Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac O...
Player joined: 小明_000 (資訊部)
Connection allowed for IP 127.0.0.1: 3/200
🔗 Player connected: LT_IbmS1wfcPzB70AAAH
📊 Connection stats - Active: 3, Total: 3, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Mobile - Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac O...
Player joined: 小華_001 (行銷部)
Connection allowed for IP 127.0.0.1: 4/200
🔗 Player connected: p5WDP35QVYs3FptiAAAK
📊 Connection stats - Active: 4, Total: 4, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Mobile - Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac O...
Player joined: 小美_002 (業務部)
Player ncb-9BZqzO_rSeDhAAAE attempting to join team: team_E
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=ncb-9BZqzO_rSeDhAAAE, teamId=team_E
Player exists: true, Team exists: true
Player 小明_000 joined team E隊
Player ncb-9BZqzO_rSeDhAAAE successfully joined team E隊 (team_E)
Connection allowed for IP 127.0.0.1: 5/200
🔗 Player connected: pf85lzWHTM7sJUuhAAAN
📊 Connection stats - Active: 5, Total: 5, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - ...
Player joined: 小強_003 (財務部)
Connection allowed for IP 127.0.0.1: 6/200
🔗 Player connected: 6bV1xXjb_OzoSDGXAAAQ
📊 Connection stats - Active: 6, Total: 6, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - ...
Player joined: 小芳_004 (人事部)
Player LT_IbmS1wfcPzB70AAAH attempting to join team: team_B
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=LT_IbmS1wfcPzB70AAAH, teamId=team_B
Player exists: true, Team exists: true
Player 小華_001 joined team B隊
Player LT_IbmS1wfcPzB70AAAH successfully joined team B隊 (team_B)
Connection allowed for IP 127.0.0.1: 7/200
🔗 Player connected: QUtqLcimod_ROMb7AAAT
📊 Connection stats - Active: 7, Total: 7, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - ...
Player joined: 小王_005 (研發部)
Player p5WDP35QVYs3FptiAAAK attempting to join team: team_F
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=p5WDP35QVYs3FptiAAAK, teamId=team_F
Player exists: true, Team exists: true
Player 小美_002 joined team F隊
Player p5WDP35QVYs3FptiAAAK successfully joined team F隊 (team_F)
Connection allowed for IP 127.0.0.1: 8/200
🔗 Player connected: TvlRnqNdSRz02nD5AAAW
📊 Connection stats - Active: 8, Total: 8, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Mobile - Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac O...
Player joined: 小李_006 (企劃部)
Player pf85lzWHTM7sJUuhAAAN attempting to join team: team_F
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=pf85lzWHTM7sJUuhAAAN, teamId=team_F
Player exists: true, Team exists: true
Player 小強_003 joined team F隊
Player pf85lzWHTM7sJUuhAAAN successfully joined team F隊 (team_F)
Connection allowed for IP 127.0.0.1: 9/200
🔗 Player connected: Q7R7XWLWym-cuXTCAAAZ
📊 Connection stats - Active: 9, Total: 9, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Mobile - Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac O...
Player joined: 小張_007 (客服部)
Player 6bV1xXjb_OzoSDGXAAAQ attempting to join team: team_A
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=6bV1xXjb_OzoSDGXAAAQ, teamId=team_A
Player exists: true, Team exists: true
Player 小芳_004 joined team A隊
Player 6bV1xXjb_OzoSDGXAAAQ successfully joined team A隊 (team_A)
Connection allowed for IP 127.0.0.1: 10/200
🔗 Player connected: jy4sEujaMh2XwLj6AAAc
📊 Connection stats - Active: 10, Total: 10, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Mobile - Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac O...
Player joined: 小陳_008 (法務部)
Connection allowed for IP 127.0.0.1: 11/200
🔗 Player connected: JcFRd6oEg875vzKAAAAf
📊 Connection stats - Active: 11, Total: 11, Reconnections: 0
🌐 Client info - Transport: websocket, Upgraded: false
📱 Device type: Desktop - ...
Player joined: 小林_009 (採購部)
Player QUtqLcimod_ROMb7AAAT attempting to join team: team_B
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=QUtqLcimod_ROMb7AAAT, teamId=team_B
Player exists: true, Team exists: true
Player 小王_005 joined team B隊
Player QUtqLcimod_ROMb7AAAT successfully joined team B隊 (team_B)
Player jy4sEujaMh2XwLj6AAAc attempting to join team: team_A
Available teams: team_A, team_B, team_C, team_D, team_E, team_F
Join team request: player=jy4sEujaMh2XwLj6AAAc, teamId=team_A
Player exists: true, Team exists: true
Player 小陳_008 joined team A隊
Player jy4sEujaMh2XwLj6AAAc successfully joined team A隊 (team_A)
Player TvlRnqNdSRz02nD5AAAW attempting to join team: t[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server/index.js`[39m
[dotenv@17.2.1] injecting env (11) from .env -- tip: 📡 version env with Radar: https://dotenvx.com/radar
🌐 Allowed CORS origins: [
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://172.22.78.176:3000'
]
🔒 CSP Network sources: [ 'http://172.22.78.176:3000', 'ws://172.22.78.176:3000' ]
Generated board with event distribution: {
  format_matching: 8,
  multiple_choice_quiz: 3,
  drag_drop_workflow: 3,
  true_or_false: 3
}
Initializing predefined teams...
Created team: A隊 (team_A) - URL: http://localhost:3000/mobile?team=team_A
Created team: B隊 (team_B) - URL: http://localhost:3000/mobile?team=team_B
Created team: C隊 (team_C) - URL: http://localhost:3000/mobile?team=team_C
Created team: D隊 (team_D) - URL: http://localhost:3000/mobile?team=team_D
Created team: E隊 (team_E) - URL: http://localhost:3000/mobile?team=team_E
Created team: F隊 (team_F) - URL: http://localhost:3000/mobile?team=team_F
Initialized 6 predefined teams
🎮 Game server running on port 3000
🖥️  Main screen: http://localhost:3000
📱 Mobile interface: http://localhost:3000/mobile

🌐 Network Access URLs:
   📱 Mobile: http://172.22.78.176:3000/mobile
   🖥️  Main: http://172.22.78.176:3000

⚠️  IMPORTANT: Use HTTP (not HTTPS) URLs on mobile devices
⚠️  Running in development mode with relaxed security
tency: 1ms
💓 Heartbeat from pf85lzWHTM7sJUuhAAAN - Latency: 1ms
🔐 Host authorization check:
  Expected token: bbdeb60b...
  Provided token: default-...
  Auth object: { hostToken: 'default-host-token' }
  Headers: [ 'x-host-token' ]
  Authorization result: ❌ DENIED
💓 Heartbeat from 6bV1xXjb_OzoSDGXAAAQ - Latency: 0ms
💓 Heartbeat from QUtqLcimod_ROMb7AAAT - Latency: 1ms
💓 Heartbeat from TvlRnqNdSRz02nD5AAAW - Latency: 0ms
💓 Heartbeat from Q7R7XWLWym-cuXTCAAAZ - Latency: 1ms
💓 Heartbeat from jy4sEujaMh2XwLj6AAAc - Latency: 1ms
💓 Heartbeat from JcFRd6oEg875vzKAAAAf - Latency: 0ms
🔐 Host authorization check:
  Expected token: bbdeb60b...
  Provided token: default-...
  Auth object: { hostToken: 'default-host-token' }
  Headers: [ 'x-host-token' ]
  Authorization result: ❌ DENIED
💓 Heartbeat from ncb-9BZqzO_rSeDhAAAE - Latency: 1ms
💓 Heartbeat from LT_IbmS1wfcPzB70AAAH - Latency: 1ms
💓 Heartbeat from p5WDP35QVYs3FptiAAAK - Latency: 0ms
💓 Heartbeat from pf85lzWHTM7sJUuhAAAN - Latency: 0ms
💓 Heartbeat from 6bV1xXjb_OzoSDGXAAAQ - Latency: 0ms
💓 Heartbeat from QUtqLcimod_ROMb7AAAT - Latency: 0ms
💓 Heartbeat from TvlRnqNdSRz02nD5AAAW - Latency: 1ms
💓 Heartbeat from Q7R7XWLWym-cuXTCAAAZ - Latency: 0ms
💓 Heartbeat from jy4sEujaMh2XwLj6AAAc - Latency: 0ms
💓 Heartbeat from JcFRd6oEg875vzKAAAAf - Latency: 1ms
💔 Player disconnected: ncb-9BZqzO_rSeDhAAAE
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 10, Disconnections: 1
🌐 Transport at disconnect: websocket
💔 Player disconnected: LT_IbmS1wfcPzB70AAAH
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 9, Disconnections: 2
🌐 Transport at disconnect: websocket
💔 Player disconnected: p5WDP35QVYs3FptiAAAK
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 8, Disconnections: 3
🌐 Transport at disconnect: websocket
💔 Player disconnected: pf85lzWHTM7sJUuhAAAN
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 7, Disconnections: 4
🌐 Transport at disconnect: websocket
Team team_F is now empty but is predefined, keeping it for future games
💔 Player disconnected: 6bV1xXjb_OzoSDGXAAAQ
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 6, Disconnections: 5
🌐 Transport at disconnect: websocket
💔 Player disconnected: QUtqLcimod_ROMb7AAAT
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 5, Disconnections: 6
🌐 Transport at disconnect: websocket
💔 Player disconnected: TvlRnqNdSRz02nD5AAAW
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 4, Disconnections: 7
🌐 Transport at disconnect: websocket
Team team_B is now empty but is predefined, keeping it for future games
💔 Player disconnected: Q7R7XWLWym-cuXTCAAAZ
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 3, Disconnections: 8
🌐 Transport at disconnect: websocket
Team team_E is now empty but is predefined, keeping it for future games
💔 Player disconnected: jy4sEujaMh2XwLj6AAAc
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 2, Disconnections: 9
🌐 Transport at disconnect: websocket
Team team_A is now empty but is predefined, keeping it for future games
Skipped to next team: team_B
💔 Player disconnected: JcFRd6oEg875vzKAAAAf
📊 Disconnect reason: client namespace disconnect
📊 Connection stats - Active: 1, Disconnections: 10
🌐 Transport at disconnect: websocket
Team team_D is now empty but is predefined, keeping it for future games
🔐 Host authorization check:
  Expected token: bbdeb60b...
  Provided token: default-...
  Auth object: { hostToken: 'default-host-token' }
  Headers: [ 'x-host-token' ]
  Authorization result: ❌ DENIED
🔌 Transport closed for JcFRd6oEg875vzKAAAAf: transport close
🔌 Transport closed for jy4sEujaMh2XwLj6AAAc: transport close
🔌 Transport closed for Q7R7XWLWym-cuXTCAAAZ: transport close
🔌 Transport closed for TvlRnqNdSRz02nD5AAAW: transport close
🔌 Transport closed for QUtqLcimod_ROMb7AAAT: transport close
🔌 Transport closed for 6bV1xXjb_OzoSDGXAAAQ: transport close
🔌 Transport closed for pf85lzWHTM7sJUuhAAAN: transport close
🔌 Transport closed for p5WDP35QVYs3FptiAAAK: transport close
🔌 Transport closed for LT_IbmS1wfcPzB70AAAH: transport close
🔌 Transport closed for ncb-9BZqzO_rSeDhAAAE: transport close
Team skip transition completed, actions now allowed
🔐 Host authorization check:
  Expected token: bbdeb60b...
  Provided token: default-...
  Auth object: { hostToken: 'default-host-token' }
  Headers: [ 'x-host-token' ]
  Authorization result: ❌ DENIED
🔐 Host authorization check:
  Expected token: bbdeb60b...
  Provided token: default-...
  Auth object: { hostToken: 'default-host-token' }
  Headers: [ 'x-host-token' ]
  Authorization result: ❌ DENIED
🔐 Host authorization check:
  Expected token: bbdeb60b...
  Provided token: default-...
  Auth object: { hostToken: 'default-host-token' }
  Headers: [ 'x-host-token' ]
  Authorization result: ❌ DENIED
🔐 Host authorization check:
  Expected token: bbdeb60b...
  Provided token: default-...
  Auth object: { hostToken: 'default-host-token' }
  Headers: [ 'x-host-token' ]
  Authorization result: ❌ DENIED
🔐 Host authorization check:
  Expected token: bbdeb60b...
  Provided token: default-...
  Auth object: { hostToken: 'default-host-token' }
  Headers: [ 'x-host-token' ]
  Authorization result: ❌ DENIED
🔐 Host authorization check:
  Expected token: bbdeb60b...
  Provided token: default-...
  Auth object: { hostToken: 'default-host-token' }
  Headers: [ 'x-host-token' ]
  Authorization result: ❌ DENIED
💔 Player disconnected: kutXETZkhEyRgd_fAAAB
📊 Disconnect reason: transport close
📊 Connection stats - Active: 0, Disconnections: 11
🌐 Transport at disconnect: websocket
🔌 Transport closed for kutXETZkhEyRgd_fAAAB: transport close
Team team_B completed run 1/5
Cannot rotate captain for team team_D: team not found or no members
Turn transition completed, emitting TURN_END event
Round 1 Turn transitioned to team team_D with captain undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server/index.js`[39m
[dotenv@17.2.1] injecting env (11) from .env -- tip: ⚙️  write to custom object with { processEnv: myObject }
🌐 Allowed CORS origins: [
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://localhost:3000',
  'http://127.0.0.1:3000',
  'http://172.22.78.176:3000'
]
🔒 CSP Network sources: [ 'http://172.22.78.176:3000', 'ws://172.22.78.176:3000' ]
Generated board with event distribution: {
  true_or_false: 3,
  multiple_choice_quiz: 5,
  format_matching: 3,
  drag_drop_workflow: 6
}
Initializing predefined teams...
Created team: A隊 (team_A) - URL: http://localhost:3000/mobile?team=team_A
Created team: B隊 (team_B) - URL: http://localhost:3000/mobile?team=team_B
Created team: C隊 (team_C) - URL: http://localhost:3000/mobile?team=team_C
Created team: D隊 (team_D) - URL: http://localhost:3000/mobile?team=team_D
Created team: E隊 (team_E) - URL: http://localhost:3000/mobile?team=team_E
Created team: F隊 (team_F) - URL: http://localhost:3000/mobile?team=team_F
Initialized 6 predefined teams
node:events:485
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:3000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at node:net:2206:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1976:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 3000
}

Node.js v24.4.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
